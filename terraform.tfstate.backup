{
  "version": 4,
  "terraform_version": "1.1.7",
  "serial": 40,
  "lineage": "bbc33a9e-f178-57e2-172c-99a62a62455b",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "kubernetes_secret",
      "name": "vault_secret",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "data": {
              "ca.crt": "-----BEGIN CERTIFICATE-----\nMIIE6DCCAtCgAwIBAgIQD0K2W//Z58lCvcXBNThQfjANBgkqhkiG9w0BAQsFADAN\nMQswCQYDVQQDEwJjYTAgFw0yMjA0MDEyMDQ4MzVaGA8yMDUyMDQwMTIwNTgzNVow\nDTELMAkGA1UEAxMCY2EwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQCx\npSxxJH2rw8UOoArvFr8tNQmYxH3TXgMMGyfJYLtBG2EKZvxLSKF5P4epgdp15UiY\nqTRtIApmCP0t8ARsXZE/jaF+jp0psUFHAS+SDfhm/+ZqIsnT8W5TtOfjUOAEuSlR\nWPYgdn6UgS1ObGx3f/p9NUwFVpko0Us+CW5+paI/FlqFmh8jWlqcLuQA1eFTwhdr\nDgK4at4IOkCKeviYxLGkRftsTd5gdaDkU2kupmGzqFPKJvlxRAYq5iZ3t7vEE3tQ\n+sokmUSfyiWsaVABbofPPWqIfEmk/ipLQI378GxEZMADbwMotJQW8UF0acQ6rby3\nHUjHtv6eENSXauq8R1SgarClxuArymlwCNmPZrglXc2LpZ2VvXFG3993G6UB+ChB\nhyX0pcYxLAKg6XPC8WfYqtHDfWkSSi8Mdz0z5hyH5GllKpJ7HsizuAd9e02tYE34\ntBoMdcDfoHvATxsk0St9nEkTdv3JUawKbT7I6Kz8c2wzREArBnl1ZCbTtc5Zv4/H\nm5f3jxEj1aIVMeX6lcZurfCQUU+rRuMw8EPg2tD+xYwJOqp/R2h3LZpvc/d6/MSE\nZkdFXx0/lbjQdJcFsp20ibGlJEmTAoiT3eGQwJe1rY0nXkpzpN1W616Mcg7uAI/a\nkKRAFddmtQxEKSs7e//x8lpcXGZ4gnIhzx1fRFg45QIDAQABo0IwQDAOBgNVHQ8B\nAf8EBAMCAqQwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQURknxoISJjFJacbUK\n7jGBZ2ECO/0wDQYJKoZIhvcNAQELBQADggIBAJ2/kVmRzub5BEOSYCp560LR8rF0\nXWE8MP2yEkQqfzKAWasJIXPygZVdx4O0dvy7Tyg7Ndeu3TkwTt2p0OORIBPbZjll\ngpejQMZehitzaCdMXOWRuKeXzmsg/mtX8FBLNMT92+EtvfG0sLNhDLTWfwqjyjG4\nFuAEcXWRaZxRgxveLDafBbkYc/0VzRy8iJ0a7DX9lvn/sMqxFfxY6hHQrmEDw4X1\nlR58ZJvklM2MAi2RJLwDySzFo4K6Xw2VHwV0jEYdMAYjOdR/1da4p/u9uR6rstIk\n7vvQSrqOilZfbSI9G1SIquS09HKb3ZoG2QrPhHIbXNmjCHebhvTMaT8cnroW7u3M\n/EMN1gmgviPYRaRzXNK+3E2uN79lFF5K8bCXGJLM5g7ervbkPVb/e/tn8gqnw/1y\n/r2A/s5C/gUPtCck0I/MOJNyHOT80Y78LwPUfheA/bVba4A+Y7/6Zo4Kpi1xOiBI\nyTyMRwgEbZOSiMk5U6Cp5RGn+m6+ZYymQgqGKpaA3KjNqzZI6zQadoGVENxdMPof\nhokjK52YB1iLb2JA0X8nKeVF5n5lu0Cx+Erp8V9Ejd9KoXCxjftcC7FWxh7cP8sj\nc5I8q+8N0hsOfVWPWxurA7b/h1KExSTZDoigVvKsiFF5Fqx/a0NGyZ1G9YyYjC9n\nCa8An7COZsPqyAYi\n-----END CERTIFICATE-----\n",
              "namespace": "default",
              "token": "eyJhbGciOiJSUzI1NiIsImtpZCI6IktuWnI1ZDdmS1VFaExnNVA4eDlUUUpQZXNGYW9NeV9ZeEtLZ2k1bjR0LU0ifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6InZhdWx0LXRva2VuLXFyZmJ3Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6InZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiMzFiZTFjNDMtM2YyYi00NWVlLWIzODAtZmM3ZDU0OGU0ZmE0Iiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OmRlZmF1bHQ6dmF1bHQifQ.NBx2PrmzgXROLN0TFjm8HGg6F9IuVhV6nV2hDrwRBckYj6dOuSv3_m-BZKd-bliArbxu8ZGc1tQ6vrNF2-pDlB3NTqTuwlaQLQy5qMH561O5rweODfv5J_r3VfUHLkgpdn466zEowsCVOTef5tBPesEpThK3dpblJnw4fS0XHsjQvZIUAeehkSZiWQ1wFUivFINQ74UzLgyCbXMm8nRQJlqhmxJAy9d7_eAGnTjPd54OrlHKa898HKvX9kOaf88IbX8xzKAJuauSb2t8VHfPdtZZFDCpji6rEdCFKUpTcbLTIujao5ZXTmEfKAJ5Vg_tp3MPFaGDM7KTtkwige5_b5aCdrlt2vgUC19E3Ogswke_EMouOLGxl1zTDRJaPwKKAuNTHhpKocuEcDpzQ2zfq6tpvOfsbEUW4ZHgg-HfaJnsRLs_Hks0_Mwr_emVc5Kiat0CyvbBNm9Suk7M3e4jT5sb0PsjQ346Lr5xtsNnG_f8E4K8t6Do53Of4vl8lpkt0H-GtlmvodC_FO2h85e6z-0ki3NHRtBUZwav3bF5OGCz2IWJDx6qa2bMpXsgBsQUKIeDApnCVgKVV1-RLJk3GBgAqsCfLDC19pmMHX4IpMdRc9QeP2Enn44uzJGDlcToAvJhoyiXk8myuG_QUgKgs5Jnd0-17wR6WgVV3ATYra0"
            },
            "id": "default/vault-token-qrfbw",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generation": 0,
                "labels": {},
                "name": "vault-token-qrfbw",
                "namespace": "default",
                "resource_version": "2541991",
                "uid": "3e50f91a-f5ef-4e3a-aa4b-dfec0bcf980b"
              }
            ],
            "type": "kubernetes.io/service-account-token"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "kubernetes_service_account",
      "name": "vault_sa",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "automount_service_account_token": false,
            "default_secret_name": "vault-token-qrfbw",
            "id": "default/vault",
            "image_pull_secret": [],
            "metadata": [
              {
                "annotations": {
                  "meta.helm.sh/release-name": "vault",
                  "meta.helm.sh/release-namespace": "default"
                },
                "generation": 0,
                "labels": {
                  "app.kubernetes.io/instance": "vault",
                  "app.kubernetes.io/managed-by": "Helm",
                  "app.kubernetes.io/name": "vault",
                  "helm.sh/chart": "vault-0.19.0"
                },
                "name": "vault",
                "namespace": "default",
                "resource_version": "2541992",
                "uid": "31be1c43-3f2b-45ee-b380-fc7d548e4fa4"
              }
            ],
            "secret": []
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "assignment",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "status": "tainted",
          "schema_version": 0,
          "attributes": {
            "atomic": false,
            "chart": "./app",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "assign-chart",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.0.0",
                "chart": "assign-vault-terraform-helm",
                "name": "assign-chart",
                "namespace": "default",
                "revision": 1,
                "values": "{\"deployment\":{\"name\":\"dozdeploy\",\"replicas\":\"2\"},\"env\":{\"create\":true},\"project_name\":\"test\",\"secretProviderClass\":{\"name\":\"dozspc\"},\"serviceAccount\":{\"name\":\"dozservice\"}}",
                "version": "1.0.3"
              }
            ],
            "name": "assign-chart",
            "namespace": "default",
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": null,
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "failed",
            "timeout": 300,
            "values": [
              "env:      # to set the secret as an environmental variable\r\n  create: true\r\n\r\n\r\nproject_name: \"test\" #project\r\n\r\nserviceAccount:\r\n  name: \"dozservice\"\r\nsecretProviderClass:\r\n  name: \"dozspc\"\r\ndeployment:\r\n  replicas: \"2\"   #replicas: {{- default \"1\" .Values.deployment.replicas | trimSuffix \"-\" }}\r\n\r\n  name: \"dozdeploy\"\r\n\r\n#  NOT TALKED ABOUT\r\n\r\n    # roleName: \"database\""
            ],
            "verify": false,
            "version": "1.0.3",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "csi_drivers",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "atomic": false,
            "chart": "secrets-store-csi-driver",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "csi-secrets-store",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.1.2",
                "chart": "secrets-store-csi-driver",
                "name": "csi-secrets-store",
                "namespace": "default",
                "revision": 1,
                "values": "{\"enableSecretRotation\":true,\"syncSecret\":{\"enabled\":true}}",
                "version": "1.1.2"
              }
            ],
            "name": "csi-secrets-store",
            "namespace": "default",
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://kubernetes-sigs.github.io/secrets-store-csi-driver/charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [
              {
                "name": "enableSecretRotation",
                "type": "",
                "value": "true"
              },
              {
                "name": "syncSecret.enabled",
                "type": "",
                "value": "true"
              }
            ],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": null,
            "verify": false,
            "version": "1.1.2",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "vault",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "atomic": false,
            "chart": "vault",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "vault",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.9.2",
                "chart": "vault",
                "name": "vault",
                "namespace": "default",
                "revision": 1,
                "values": "{\"csi\":{\"enabled\":true},\"global\":{\"enabled\":true,\"tlsDisable\":true},\"injector\":{\"enabled\":false,\"image\":{\"repository\":\"hashicorp/vault-k8s\",\"tag\":\"latest\"},\"resources\":{\"limits\":{\"cpu\":\"250m\",\"memory\":\"256Mi\"},\"requests\":{\"cpu\":\"250m\",\"memory\":\"256Mi\"}}},\"server\":{\"dev\":{\"enabled\":true}},\"ui\":{\"enabled\":true,\"externalPort\":8200,\"serviceNodePort\":null,\"serviceType\":\"LoadBalancer\"}}",
                "version": "0.19.0"
              }
            ],
            "name": "vault",
            "namespace": "default",
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://helm.releases.hashicorp.com",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": [
              "# Vault Helm Chart Value Overrides\r\nglobal:\r\n  enabled: true\r\n  tlsDisable: true\r\n\r\ninjector:\r\n  enabled: false\r\n  # Use the Vault K8s Image https://github.com/hashicorp/vault-k8s/\r\n  image:\r\n    repository: \"hashicorp/vault-k8s\"\r\n    tag: \"latest\"\r\n\r\n  resources:\r\n      requests:\r\n        memory: 256Mi\r\n        cpu: 250m\r\n      limits:\r\n        memory: 256Mi\r\n        cpu: 250m\r\n\r\ncsi:\r\n  enabled: true\r\n\r\nserver:\r\n  dev:\r\n    enabled: true\r\n\r\n# server:\r\n  # Use the Enterprise Image\r\n  # image:\r\n  #   repository: \"hashicorp/vault-enterprise\"\r\n  #   tag: \"1.5.0_ent\"\r\n\r\n  # These Resource Limits are in line with node requirements in the\r\n  # Vault Reference Architecture for a Small Cluster\r\n  # resources:\r\n  #   requests:\r\n  #     memory: 8Gi\r\n  #     cpu: 2000m\r\n  #   limits:\r\n  #     memory: 16Gi\r\n  #     cpu: 2000m\r\n\r\n  # For HA configuration and because we need to manually init the vault,\r\n  # we need to define custom readiness/liveness Probe settings\r\n  # readinessProbe:\r\n  #   enabled: true\r\n  #   path: \"/v1/sys/health?standbyok=true\u0026sealedcode=204\u0026uninitcode=204\"\r\n  # livenessProbe:\r\n  #   enabled: true\r\n  #   path: \"/v1/sys/health?standbyok=true\"\r\n  #   initialDelaySeconds: 60\r\n\r\n  # # extraEnvironmentVars is a list of extra environment variables to set with the stateful set. These could be\r\n  # # used to include variables required for auto-unseal.\r\n  # # extraEnvironmentVars:\r\n  # #   VAULT_CACERT: /vault/userconfig/tls-ca/ca.crt\r\n\r\n  # # extraVolumes is a list of extra volumes to mount. These will be exposed\r\n  # # to Vault in the path `/vault/userconfig/\u003cname\u003e/`.\r\n  # # extraVolumes:\r\n  # #   - type: secret\r\n  # #     name: tls-server\r\n  # #   - type: secret\r\n  # #     name: tls-ca\r\n  # #   - type: secret\r\n  # #     name: kms-creds\r\n\r\n  # # This configures the Vault Statefulset to create a PVC for audit logs.\r\n  # # See https://www.vaultproject.io/docs/audit/index.html to know more\r\n  # auditStorage:\r\n  #   enabled: true\r\n\r\n  # standalone:\r\n  #   enabled: false\r\n\r\n  # # Run Vault in \"HA\" mode.\r\n  # ha:\r\n  #   enabled: true\r\n  #   replicas: 2\r\n  #   raft:\r\n  #     enabled: true\r\n  #     setNodeId: true\r\n\r\n  #     config: |\r\n  #       ui = true\r\n  #       listener \"tcp\" {\r\n  #         address = \"[::]:8200\"\r\n  #         cluster_address = \"[::]:8201\"\r\n  #         tls_cert_file = \"/vault/userconfig/tls-server/server.crt\"\r\n  #         tls_key_file = \"/vault/userconfig/tls-server/server.key\"\r\n  #         tls_ca_cert_file = \"/vault/userconfig/tls-ca/ca.crt\"\r\n  #       }\r\n\r\n  #       storage \"raft\" {\r\n  #         path = \"/vault/data\"\r\n  #           retry_join {\r\n  #           leader_api_addr = \"https://vault-0.vault-internal:8200\"\r\n  #           leader_ca_cert_file = \"/vault/userconfig/tls-ca/ca.crt\"\r\n  #           leader_client_cert_file = \"/vault/userconfig/tls-server/server.crt\"\r\n  #           leader_client_key_file = \"/vault/userconfig/tls-server/server.key\"\r\n  #         }\r\n  #         retry_join {\r\n  #           leader_api_addr = \"https://vault-1.vault-internal:8200\"\r\n  #           leader_ca_cert_file = \"/vault/userconfig/tls-ca/ca.crt\"\r\n  #           leader_client_cert_file = \"/vault/userconfig/tls-server/server.crt\"\r\n  #           leader_client_key_file = \"/vault/userconfig/tls-server/server.key\"\r\n  #         }\r\n  #         retry_join {\r\n  #           leader_api_addr = \"https://vault-2.vault-internal:8200\"\r\n  #           leader_ca_cert_file = \"/vault/userconfig/tls-ca/ca.crt\"\r\n  #           leader_client_cert_file = \"/vault/userconfig/tls-server/server.crt\"\r\n  #           leader_client_key_file = \"/vault/userconfig/tls-server/server.key\"\r\n  #         }\r\n  #         retry_join {\r\n  #             leader_api_addr = \"https://vault-3.vault-internal:8200\"\r\n  #             leader_ca_cert_file = \"/vault/userconfig/tls-ca/ca.crt\"\r\n  #             leader_client_cert_file = \"/vault/userconfig/tls-server/server.crt\"\r\n  #             leader_client_key_file = \"/vault/userconfig/tls-server/server.key\"\r\n  #         }\r\n  #         retry_join {\r\n  #             leader_api_addr = \"https://vault-4.vault-internal:8200\"\r\n  #             leader_ca_cert_file = \"/vault/userconfig/tls-ca/ca.crt\"\r\n  #             leader_client_cert_file = \"/vault/userconfig/tls-server/server.crt\"\r\n  #             leader_client_key_file = \"/vault/userconfig/tls-server/server.key\"\r\n  #         }\r\n\r\n  #         autopilot {\r\n  #           cleanup_dead_servers = \"true\"\r\n  #           last_contact_threshold = \"200ms\"\r\n  #           last_contact_failure_threshold = \"10m\"\r\n  #           max_trailing_logs = 250000\r\n  #           min_quorum = 5\r\n  #           server_stabilization_time = \"10s\"\r\n  #         }\r\n\r\n  #       }\r\n\r\n  #       service_registration \"kubernetes\" {}\r\n\r\n# Vault UI\r\nui:\r\n  enabled: true\r\n  serviceType: \"LoadBalancer\"\r\n  serviceNodePort: null\r\n  externalPort: 8200\r\n\r\n  # For Added Security, edit the below\r\n  #loadBalancerSourceRanges:\r\n  #   - \u003c Your IP RANGE Ex. 10.0.0.0/16 \u003e\r\n  #   - \u003c YOUR SINGLE IP Ex. 1.78.23.3/32 \u003e\r\n"
            ],
            "verify": false,
            "version": "0.19.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vault_auth_backend",
      "name": "vault_auth",
      "provider": "provider[\"registry.terraform.io/hashicorp/vault\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "accessor": "auth_kubernetes_9bf9e7ed",
            "description": "",
            "id": "kubernetes",
            "local": false,
            "path": "kubernetes",
            "tune": [],
            "type": "kubernetes"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vault_kubernetes_auth_backend_config",
      "name": "mainly",
      "provider": "provider[\"registry.terraform.io/hashicorp/vault\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend": "kubernetes",
            "disable_iss_validation": true,
            "disable_local_ca_jwt": false,
            "id": "auth/kubernetes/config",
            "issuer": "",
            "kubernetes_ca_cert": "-----BEGIN CERTIFICATE-----\nMIIE6DCCAtCgAwIBAgIQD0K2W//Z58lCvcXBNThQfjANBgkqhkiG9w0BAQsFADAN\nMQswCQYDVQQDEwJjYTAgFw0yMjA0MDEyMDQ4MzVaGA8yMDUyMDQwMTIwNTgzNVow\nDTELMAkGA1UEAxMCY2EwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQCx\npSxxJH2rw8UOoArvFr8tNQmYxH3TXgMMGyfJYLtBG2EKZvxLSKF5P4epgdp15UiY\nqTRtIApmCP0t8ARsXZE/jaF+jp0psUFHAS+SDfhm/+ZqIsnT8W5TtOfjUOAEuSlR\nWPYgdn6UgS1ObGx3f/p9NUwFVpko0Us+CW5+paI/FlqFmh8jWlqcLuQA1eFTwhdr\nDgK4at4IOkCKeviYxLGkRftsTd5gdaDkU2kupmGzqFPKJvlxRAYq5iZ3t7vEE3tQ\n+sokmUSfyiWsaVABbofPPWqIfEmk/ipLQI378GxEZMADbwMotJQW8UF0acQ6rby3\nHUjHtv6eENSXauq8R1SgarClxuArymlwCNmPZrglXc2LpZ2VvXFG3993G6UB+ChB\nhyX0pcYxLAKg6XPC8WfYqtHDfWkSSi8Mdz0z5hyH5GllKpJ7HsizuAd9e02tYE34\ntBoMdcDfoHvATxsk0St9nEkTdv3JUawKbT7I6Kz8c2wzREArBnl1ZCbTtc5Zv4/H\nm5f3jxEj1aIVMeX6lcZurfCQUU+rRuMw8EPg2tD+xYwJOqp/R2h3LZpvc/d6/MSE\nZkdFXx0/lbjQdJcFsp20ibGlJEmTAoiT3eGQwJe1rY0nXkpzpN1W616Mcg7uAI/a\nkKRAFddmtQxEKSs7e//x8lpcXGZ4gnIhzx1fRFg45QIDAQABo0IwQDAOBgNVHQ8B\nAf8EBAMCAqQwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQURknxoISJjFJacbUK\n7jGBZ2ECO/0wDQYJKoZIhvcNAQELBQADggIBAJ2/kVmRzub5BEOSYCp560LR8rF0\nXWE8MP2yEkQqfzKAWasJIXPygZVdx4O0dvy7Tyg7Ndeu3TkwTt2p0OORIBPbZjll\ngpejQMZehitzaCdMXOWRuKeXzmsg/mtX8FBLNMT92+EtvfG0sLNhDLTWfwqjyjG4\nFuAEcXWRaZxRgxveLDafBbkYc/0VzRy8iJ0a7DX9lvn/sMqxFfxY6hHQrmEDw4X1\nlR58ZJvklM2MAi2RJLwDySzFo4K6Xw2VHwV0jEYdMAYjOdR/1da4p/u9uR6rstIk\n7vvQSrqOilZfbSI9G1SIquS09HKb3ZoG2QrPhHIbXNmjCHebhvTMaT8cnroW7u3M\n/EMN1gmgviPYRaRzXNK+3E2uN79lFF5K8bCXGJLM5g7ervbkPVb/e/tn8gqnw/1y\n/r2A/s5C/gUPtCck0I/MOJNyHOT80Y78LwPUfheA/bVba4A+Y7/6Zo4Kpi1xOiBI\nyTyMRwgEbZOSiMk5U6Cp5RGn+m6+ZYymQgqGKpaA3KjNqzZI6zQadoGVENxdMPof\nhokjK52YB1iLb2JA0X8nKeVF5n5lu0Cx+Erp8V9Ejd9KoXCxjftcC7FWxh7cP8sj\nc5I8q+8N0hsOfVWPWxurA7b/h1KExSTZDoigVvKsiFF5Fqx/a0NGyZ1G9YyYjC9n\nCa8An7COZsPqyAYi\n-----END CERTIFICATE-----\n",
            "kubernetes_host": " https://teststuffs-dns-cd70fa1c.hcp.southcentralus.azmk8s.io:443",
            "pem_keys": [],
            "token_reviewer_jwt": "eyJhbGciOiJSUzI1NiIsImtpZCI6IktuWnI1ZDdmS1VFaExnNVA4eDlUUUpQZXNGYW9NeV9ZeEtLZ2k1bjR0LU0ifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6InZhdWx0LXRva2VuLXFyZmJ3Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6InZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiMzFiZTFjNDMtM2YyYi00NWVlLWIzODAtZmM3ZDU0OGU0ZmE0Iiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OmRlZmF1bHQ6dmF1bHQifQ.NBx2PrmzgXROLN0TFjm8HGg6F9IuVhV6nV2hDrwRBckYj6dOuSv3_m-BZKd-bliArbxu8ZGc1tQ6vrNF2-pDlB3NTqTuwlaQLQy5qMH561O5rweODfv5J_r3VfUHLkgpdn466zEowsCVOTef5tBPesEpThK3dpblJnw4fS0XHsjQvZIUAeehkSZiWQ1wFUivFINQ74UzLgyCbXMm8nRQJlqhmxJAy9d7_eAGnTjPd54OrlHKa898HKvX9kOaf88IbX8xzKAJuauSb2t8VHfPdtZZFDCpji6rEdCFKUpTcbLTIujao5ZXTmEfKAJ5Vg_tp3MPFaGDM7KTtkwige5_b5aCdrlt2vgUC19E3Ogswke_EMouOLGxl1zTDRJaPwKKAuNTHhpKocuEcDpzQ2zfq6tpvOfsbEUW4ZHgg-HfaJnsRLs_Hks0_Mwr_emVc5Kiat0CyvbBNm9Suk7M3e4jT5sb0PsjQ346Lr5xtsNnG_f8E4K8t6Do53Of4vl8lpkt0H-GtlmvodC_FO2h85e6z-0ki3NHRtBUZwav3bF5OGCz2IWJDx6qa2bMpXsgBsQUKIeDApnCVgKVV1-RLJk3GBgAqsCfLDC19pmMHX4IpMdRc9QeP2Enn44uzJGDlcToAvJhoyiXk8myuG_QUgKgs5Jnd0-17wR6WgVV3ATYra0"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "kubernetes_ca_cert"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "token_reviewer_jwt"
              }
            ]
          ],
          "private": "bnVsbA==",
          "dependencies": [
            "data.kubernetes_secret.vault_secret",
            "data.kubernetes_service_account.vault_sa"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vault_kubernetes_auth_backend_role",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/hashicorp/vault\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alias_name_source": "serviceaccount_uid",
            "audience": null,
            "backend": "kubernetes",
            "bound_service_account_names": [
              "assign-chart-sa"
            ],
            "bound_service_account_namespaces": [
              "default"
            ],
            "id": "auth/kubernetes/role/database",
            "role_name": "database",
            "token_bound_cidrs": [],
            "token_explicit_max_ttl": 0,
            "token_max_ttl": 0,
            "token_no_default_policy": false,
            "token_num_uses": 0,
            "token_period": 0,
            "token_policies": [
              "internal-app"
            ],
            "token_ttl": 3600,
            "token_type": "default"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "vault_policy.app_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "vault_policy",
      "name": "app_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/vault\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "internal-app",
            "name": "internal-app",
            "policy": "path \"secret/data/db-pass\" {\r\n  capabilities = [\"read\"]\r\n}\r\n"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    }
  ]
}
